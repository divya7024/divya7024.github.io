-- Include table data insertion, updation, deletion and select scripts

---------------------------------------------------------------------------------------------------
-- Adding Menu Items in MenuItem Table--
----------------------------------------------------------------------------------------------------

INSERT INTO menu_item
VALUES
(1, 'Sandwich', 99.0, 'Yes','2017-03-15','Main Course','Yes'),
(2, 'Burger', 129.0, 'Yes','2017-12-23','Main Course','No'),
(3, 'Pizza', 149.0, 'Yes','2018-08-21','Main Course','No'),
(4, 'French Fries', 57.0, 'No','2017-07-02','Starters','Yes'),
(5, 'Chocolate Brownie', 32.0, 'Yes','2022-11-02','Desert','Yes');



------------------------------------------------------------------------------------------------------
-- Display Menu Item List --
-------------------------------------------------------------------------------------------------------

SELECT * FROM menu_item;



------------------------------------------------------------------------------------------------------
-- Edit Menu Item List --
------------------------------------------------------------------------------------------------------


UPDATE menu_item
SET me_name='Pasta',me_price=30,me_active='No',me_date_of_launch='2017-03-12',me_category='Starters'
WHERE me_id=1;



---------------------------------------------------------------------------------------------------------
-- Display Updated Menu Item List --
---------------------------------------------------------------------------------------------------------

SELECT * FROM menu_item;



---------------------------------------------------------------------------------------------------------
-- User Table --
---------------------------------------------------------------------------------------------------------

INSERT INTO user(us_id,us_name)
VALUES
(1,'Divya'),(2,'Sneha');


SELECT * FROM user;



---------------------------------------------------------------------------------------------------------
-- Customer List --
---------------------------------------------------------------------------------------------------------

SELECT me_name,me_free_delivery,me_price,me_category
FROM menu_item
WHERE me_active='Yes' AND me_date_of_launch<=current_date();



--------------------------------------------------------------------------------------------------------
-- Add To Cart --
--------------------------------------------------------------------------------------------------------

INSERT INTO cart(ct_us_id,ct_pr_id)
VALUES
(1,1),(1,3);


 
---------------------------------------------------------------------------------------------------------
-- View Cart --
---------------------------------------------------------------------------------------------------------

SELECT me_name,me_free_delivery,me_price
FROM menu_item
INNER JOIN cart
ON ct_pr_id=me_id
WHERE ct_us_id=1;



-----------------------------------------------------------------------------------------------------------
-- Total Calculation
-----------------------------------------------------------------------------------------------------------

SELECT sum(me_price) as Total
FROM menu_item
INNER JOIN cart 
ON ct_pr_id=me_id
WHERE ct_us_id=1;



-----------------------------------------------------------------------------------------------------------
-- Display Cart---
-----------------------------------------------------------------------------------------------------------

SELECT * FROM cart;



-----------------------------------------------------------------------------------------------------------
-- To delete an Item From Cart --
-----------------------------------------------------------------------------------------------------------

DELETE FROM cart 
WHERE ct_us_id=1 AND ct_pr_id=3;



-----------------------------------------------------------------------------------------------------------
--  To View Cart after Deleting
-----------------------------------------------------------------------------------------------------------

SELECT me_name,me_free_delivery,me_price
FROM menu_item
INNER JOIN cart 
ON ct_pr_id=me_id
WHERE ct_us_id=1;



----------------------------------------------------------------------------------------------------------
-- Total Calculation
----------------------------------------------------------------------------------------------------------

SELECT sum(me_price) as Total from menu_item
INNER JOIN cart 
ON ct_pr_id=me_id
WHERE ct_us_id=1;



-----------------------------------------------------------------------------------------------------------
-- To Display Cart After Deleting
-----------------------------------------------------------------------------------------------------------

SELECT * FROM cart;



